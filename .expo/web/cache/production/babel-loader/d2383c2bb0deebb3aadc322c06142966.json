{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import Button from\"react-native-web/dist/exports/Button\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import ToastAndroid from\"react-native-web/dist/exports/ToastAndroid\";import View from\"react-native-web/dist/exports/View\";import{styles}from\"../styles\";import React,{useEffect,useState}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var Weekly=function Weekly(){var _useState=useState(['FIrst']),_useState2=_slicedToArray(_useState,2),itemList=_useState2[0],setList=_useState2[1];var _React$useState=React.useState('Init'),_React$useState2=_slicedToArray(_React$useState,2),number=_React$useState2[0],onChangeNumber=_React$useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var getList=function getList(){var response,json;return _regeneratorRuntime.async(function getList$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(fetch('https://the-very-mine-todo-app.herokuapp.com/list'));case 3:response=_context.sent;_context.next=6;return _regeneratorRuntime.awrap(response.json());case 6:json=_context.sent;setData(json);setList(json);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log('ERROR',_context.t0);case 14:case\"end\":return _context.stop();}}},null,null,[[0,11]],Promise);};useEffect(function(){getList();},[]);var updateText=function updateText(e){onChangeNumber(e);};var appendToList=function appendToList(){setList([number].concat(_toConsumableArray(itemList)));showToast();};var listItems=itemList.map(function(item){return _jsxs(Text,{children:[\" - \",item]});});console.log('data',Platform.OS);var showToast=function showToast(){ToastAndroid.show(\"Item saved\",ToastAndroid.SHORT);};return _jsxs(View,{style:styles.body,children:[_jsxs(View,{style:styles.container,children:[_jsx(Text,{children:\" Weekly TODO:\"}),_jsx(FlatList,{style:styles.list,data:itemList,renderItem:function renderItem(_ref){var item=_ref.item;return _jsxs(Text,{style:styles.item,children:[\"- \",item]});}}),_jsx(Text,{children:\" Add new item \"}),_jsx(TextInput,{style:styles.input,value:number,onChangeText:updateText})]}),_jsx(View,{style:styles.footer,children:_jsx(Button,{style:styles.mainButton,onPress:appendToList,title:\"Submit\",accessibilityLabel:\"Learn more about this purple button\"})})]});};","map":{"version":3,"sources":["/usr/local/var/www/the-very-mine-todo-app-frontend/Components/weekly.js"],"names":["styles","React","useEffect","useState","Weekly","itemList","setList","number","onChangeNumber","data","setData","getList","fetch","response","json","console","log","updateText","e","appendToList","showToast","listItems","map","item","Platform","OS","ToastAndroid","show","SHORT","body","container","list","input","footer","mainButton"],"mappings":"0iBACA,OAAQA,MAAR,iBACA,MAAOC,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,C,wFAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACxB,cAA4BD,QAAQ,CAAC,CAAC,OAAD,CAAD,CAApC,wCAAOE,QAAP,eAAiBC,OAAjB,eACA,oBAAiCL,KAAK,CAACE,QAAN,CAAe,MAAf,CAAjC,oDAAOI,MAAP,qBAAeC,cAAf,qBACA,eAAwBL,QAAQ,CAAC,EAAD,CAAhC,yCAAOM,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,uMAEeC,KAAK,CAAC,mDAAD,CAFpB,SAEFC,QAFE,gEAIWA,QAAQ,CAACC,IAAT,EAJX,SAIFA,IAJE,eAKRJ,OAAO,CAACI,IAAD,CAAP,CACAR,OAAO,CAACQ,IAAD,CAAP,CANQ,iFAQRC,OAAO,CAACC,GAAR,CAAY,OAAZ,cARQ,0EAAhB,CAYAd,SAAS,CAAC,UAAM,CACZS,OAAO,GACV,CAFQ,CAEN,EAFM,CAAT,CAKA,GAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAO,CACtBV,cAAc,CAACU,CAAD,CAAd,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBb,OAAO,EAAEC,MAAF,4BAAYF,QAAZ,GAAP,CACAe,SAAS,GACZ,CAHD,CAMA,GAAMC,CAAAA,SAAS,CAAGhB,QAAQ,CAACiB,GAAT,CAAa,SAACC,IAAD,CAAU,CACrC,MAAO,OAAC,IAAD,kBAAUA,IAAV,GAAP,CACH,CAFiB,CAAlB,CAIAR,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBQ,QAAQ,CAACC,EAA7B,EAEA,GAAML,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBM,YAAY,CAACC,IAAb,CAAkB,YAAlB,CAAgCD,YAAY,CAACE,KAA7C,EACH,CAFD,CAIA,MAAW,OAAC,IAAD,EAAM,KAAK,CAAE5B,MAAM,CAAC6B,IAApB,WACP,MAAC,IAAD,EAAM,KAAK,CAAE7B,MAAM,CAAC8B,SAApB,WACI,KAAC,IAAD,4BADJ,CAEI,KAAC,QAAD,EACI,KAAK,CAAE9B,MAAM,CAAC+B,IADlB,CAEI,IAAI,CAAE1B,QAFV,CAGI,UAAU,CAAE,6BAAEkB,CAAAA,IAAF,MAAEA,IAAF,OAAY,OAAC,IAAD,EAAM,KAAK,CAAEvB,MAAM,CAACuB,IAApB,gBAA6BA,IAA7B,GAAZ,EAHhB,EAFJ,CAQI,KAAC,IAAD,6BARJ,CASI,KAAC,SAAD,EAAW,KAAK,CAAEvB,MAAM,CAACgC,KAAzB,CAAgC,KAAK,CAAEzB,MAAvC,CAA+C,YAAY,CAAEU,UAA7D,EATJ,GADO,CAYP,KAAC,IAAD,EAAM,KAAK,CAAEjB,MAAM,CAACiC,MAApB,UACI,KAAC,MAAD,EACI,KAAK,CAAEjC,MAAM,CAACkC,UADlB,CAEI,OAAO,CAAEf,YAFb,CAGI,KAAK,CAAC,QAHV,CAII,kBAAkB,CAAC,qCAJvB,EADJ,EAZO,GAAX,CAqBH,CA/DM","sourcesContent":["import {Button, FlatList, Text, TextInput, ToastAndroid, View} from \"react-native\";\nimport {styles} from \"../styles\";\nimport React, {useEffect, useState} from \"react\";\n\nexport const Weekly = () => {\n    const [itemList, setList] = useState(['FIrst']);\n    const [number, onChangeNumber] = React.useState('Init');\n    const [data, setData] = useState([]);\n\n    const getList = async()=>{\n        try{\n            const response = await fetch('https://the-very-mine-todo-app.herokuapp.com/list');\n\n            const json = await response.json();\n            setData(json);\n            setList(json);\n        }catch(e){\n            console.log('ERROR',e)\n        }\n    }\n\n    useEffect(() => {\n        getList();\n    }, []);\n\n\n    const updateText = (e) => {\n        onChangeNumber(e)\n    }\n\n    const appendToList = () => {\n        setList([number,...itemList])\n        showToast();\n    }\n\n\n    const listItems = itemList.map((item) => {\n        return <Text> - {item}</Text>\n    })\n\n    console.log('data', Platform.OS)\n\n    const showToast = () => {\n        ToastAndroid.show(\"Item saved\", ToastAndroid.SHORT);\n    };\n\n    return     <View style={styles.body}>\n        <View style={styles.container}>\n            <Text> Weekly TODO:</Text>\n            <FlatList\n                style={styles.list}\n                data={itemList}\n                renderItem={({item}) => <Text style={styles.item}>- {item}</Text>}\n            />\n\n            <Text> Add new item </Text>\n            <TextInput style={styles.input} value={number} onChangeText={updateText} />\n        </View>\n        <View style={styles.footer}>\n            <Button\n                style={styles.mainButton}\n                onPress={appendToList}\n                title=\"Submit\"\n                accessibilityLabel=\"Learn more about this purple button\"\n            />\n        </View>\n    </View>\n}\n"]},"metadata":{},"sourceType":"module"}